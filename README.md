# 発注書作成・管理システム

株式会社諸鹿彩色向けのWebベース発注書作成・管理システムです。

## 機能概要

### 発注書作成機能
- **発注元情報の入力**: 会社名、住所、連絡先などの基本情報
- **発注先情報の入力**: 取引先の詳細情報
- **商品・サービス情報の管理**: 複数商品の一括入力、工事種別の選択
- **自動計算機能**: 小計、消費税、合計金額の自動計算
- **リアルタイムプレビュー**: 入力内容の即座確認
- **PDF生成**: 高品質な発注書PDFの生成

### 発注書管理機能
- **一覧表示**: 作成済み発注書のカード形式表示
- **検索・フィルタリング**: 発注先名、商品名、担当者などでの検索
- **月別表示**: カレンダー形式での月別発注書管理
- **統計情報**: 発注書数、金額の集計表示
- **エクスポート機能**: JSON、CSV、Excel、PDF形式でのデータ出力
- **編集・削除**: 既存発注書の修正・削除

## ファイル構成

```
toyota-order-new/
├── index.html              # メインの発注書作成ページ
├── management.html         # 発注書管理ページ
├── script.js              # 発注書作成のメインロジック
├── management.js          # 発注書管理のメインロジック
├── styles.css             # 共通スタイルシート
├── management-styles.css  # 管理ページ専用スタイル
└── README.md              # このファイル
```

## 使用方法

### 1. 発注書の作成

1. `index.html`をブラウザで開く
2. 発注元情報を入力（デフォルト値が設定済み）
3. 発注先情報を入力
4. 商品情報を入力：
   - 工事種別ボタンで工事名を一括設定可能
   - 商品名、数量、単位、単価を入力
   - 「商品を追加」ボタンで行を追加
5. その他情報（工事完了月、支払条件、備考）を入力
6. 「プレビュー」ボタンで内容を確認
7. 「保存して管理に登録」ボタンで発注書を保存

### 2. 発注書の管理

1. `management.html`をブラウザで開く
2. 月別ナビゲーションで表示期間を変更
3. 検索ボックスで発注書を検索
4. フィルタで表示条件を絞り込み
5. 各発注書カードで以下の操作が可能：
   - **詳細表示**: 発注書の詳細情報を表示
   - **編集**: 発注書作成ページで編集
   - **PDF生成**: 発注書のPDFを生成
   - **削除**: 発注書を削除

### 3. データのエクスポート

1. 管理ページで「エクスポート」ボタンをクリック
2. 出力形式を選択：
   - **JSON**: 完全なデータ構造で出力
   - **CSV**: 表計算ソフトで開ける形式
   - **Excel**: Excelで開ける形式
   - **PDF**: 発注書一覧のPDF

## 技術仕様

### 使用技術
- **HTML5**: セマンティックなマークアップ
- **CSS3**: レスポンシブデザイン、アニメーション
- **JavaScript (ES6+)**: モダンなJavaScript機能
- **LocalStorage**: ブラウザでのデータ永続化
- **jsPDF**: PDF生成ライブラリ
- **html2canvas**: HTML to Canvas変換

### ブラウザ対応
- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

### データ構造

#### 発注書データ
```javascript
{
  id: "PO-20250101-001",           // 発注書ID
  orderDate: "2025-01-01",         // 発注日
  companyName: "株式会社諸鹿彩色",    // 発注元会社名
  companyAddress: "住所",           // 発注元住所
  companyPhone: "電話番号",         // 発注元電話
  companyEmail: "メールアドレス",    // 発注元メール
  staffMember: "担当者名",          // 担当者
  supplierName: "発注先会社名",      // 発注先会社名
  supplierAddress: "発注先住所",     // 発注先住所
  contactPerson: "担当者名",        // 発注先担当者
  items: [                         // 商品一覧
    {
      projectName: "工事名",
      name: "商品名",
      quantity: 1,
      unit: "個",
      unitPrice: 1000,
      subtotal: 1000
    }
  ],
  subtotal: 1000,                  // 小計
  tax: 100,                        // 消費税
  total: 1100,                     // 合計
  remarks: "備考",                 // 備考
  createdAt: "2025-01-01T00:00:00.000Z"  // 作成日時
}
```

## カスタマイズ

### 会社情報の変更
`index.html`の以下の部分を編集：
```html
<input type="text" id="companyName" name="companyName" value="株式会社諸鹿彩色">
<input type="text" id="companyCode" name="companyCode" value="T6060001025935">
<!-- その他の会社情報 -->
```

### スタイルの変更
`styles.css`を編集してデザインをカスタマイズ可能：
- カラーテーマの変更
- レイアウトの調整
- フォントの変更

### 工事種別の追加
`index.html`の工事種別ボタンセクションを編集：
```html
<button type="button" class="work-type-btn" data-type="新しい工事種別">新しい工事種別</button>
```

## トラブルシューティング

### よくある問題

1. **PDF生成ができない**
   - ブラウザのポップアップブロックを無効化
   - jsPDFライブラリが正しく読み込まれているか確認

2. **データが保存されない**
   - ブラウザのLocalStorageが有効か確認
   - プライベートブラウジングモードでないか確認

3. **日本語が正しく表示されない**
   - ブラウザの文字エンコーディングがUTF-8に設定されているか確認

### デバッグ方法

1. ブラウザの開発者ツール（F12）を開く
2. コンソールタブでエラーメッセージを確認
3. ネットワークタブでライブラリの読み込み状況を確認

## ライセンス

このプロジェクトは株式会社諸鹿彩色の内部使用を目的としています。

## 更新履歴

### v1.0.0 (2025-01-01)
- 初回リリース
- 基本的な発注書作成・管理機能
- PDF生成機能
- データエクスポート機能

## サポート

技術的な問題や機能追加のご要望がございましたら、開発チームまでお問い合わせください。
